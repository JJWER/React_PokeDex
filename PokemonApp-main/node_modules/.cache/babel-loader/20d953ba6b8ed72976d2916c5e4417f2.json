{"ast":null,"code":"var _jsxFileName = \"D:\\\\Year_4\\\\Test\\\\PokemonApp-main\\\\src\\\\Components\\\\Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Card from \"./Card\";\nimport Pokeinfo from \"./Pokeinfo\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const [pokeData, setPokeData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [url, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon/\");\n  const [nextUrl, setNextUrl] = useState();\n  const [prevUrl, setPrevUrl] = useState();\n  const [pokeDex, setPokeDex] = useState(); // state สำหรับเก็บข้อมูล Pokemon ที่ถูกเลือกและฟังก์ชันในการอัปเดต state\n  // Function to fetch Pokémon data\n\n  const fetchPokemonData = async url => {\n    setLoading(true);\n    const res = await axios.get(url); // เรียกใช้ Axios เพื่อเรียก API โดยใช้ URL ที่ได้รับเป็นพารามิเตอร์และเก็บผลลัพธ์ไว้ในตัวแปร res\n\n    setNextUrl(res.data.next); // อัปเดต state nextUrl ด้วย URL ของหน้าถัดไปที่ได้จากข้อมูล API\n\n    setPrevUrl(res.data.previous); // อัปเดต state prevUrl ด้วย URL ของหน้าก่อนหน้าที่ได้จากข้อมูล API\n\n    await getPokemonDetails(res.data.results);\n    setLoading(false);\n  }; // Function to get details of each Pokémon\n\n\n  const getPokemonDetails = async pokemonList => {\n    const pokemonDetails = await Promise.all(pokemonList.map(async pokemon => {\n      const response = await axios.get(pokemon.url);\n      return response.data;\n    })); // Sort Pokémon by ID\n\n    pokemonDetails.sort((a, b) => a.id - b.id);\n    setPokeData(pokemonDetails);\n  }; // Initial fetch on component mount\n\n\n  useEffect(() => {\n    fetchPokemonData(url);\n  }, [url]); // Function to handle next and previous buttons\n\n  const handleNextPrevClick = newUrl => {\n    setPokeData([]);\n    setUrl(newUrl);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-content\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        pokemon: pokeData,\n        loading: loading,\n        infoPokemon: poke => setPokeDex(poke)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-group\",\n        children: [prevUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleNextPrevClick(prevUrl),\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), nextUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleNextPrevClick(nextUrl),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-content\",\n      children: /*#__PURE__*/_jsxDEV(Pokeinfo, {\n        data: pokeDex\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"rThRXPtiNXdERjq0UQbUJZnxWx0=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["D:/Year_4/Test/PokemonApp-main/src/Components/Main.jsx"],"names":["React","useState","useEffect","Card","Pokeinfo","axios","Main","pokeData","setPokeData","loading","setLoading","url","setUrl","nextUrl","setNextUrl","prevUrl","setPrevUrl","pokeDex","setPokeDex","fetchPokemonData","res","get","data","next","previous","getPokemonDetails","results","pokemonList","pokemonDetails","Promise","all","map","pokemon","response","sort","a","b","id","handleNextPrevClick","newUrl","poke"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Card from \"./Card\";\nimport Pokeinfo from \"./Pokeinfo\";\nimport axios from \"axios\";\n\nconst Main = () => { \n    const [pokeData, setPokeData] = useState([]); \n    const [loading, setLoading] = useState(true); \n    const [url, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon/\"); \n    const [nextUrl, setNextUrl] = useState(); \n    const [prevUrl, setPrevUrl] = useState(); \n    const [pokeDex, setPokeDex] = useState(); // state สำหรับเก็บข้อมูล Pokemon ที่ถูกเลือกและฟังก์ชันในการอัปเดต state\n\n    // Function to fetch Pokémon data\n    const fetchPokemonData = async (url) => { \n        setLoading(true); \n        const res = await axios.get(url); // เรียกใช้ Axios เพื่อเรียก API โดยใช้ URL ที่ได้รับเป็นพารามิเตอร์และเก็บผลลัพธ์ไว้ในตัวแปร res\n        setNextUrl(res.data.next); // อัปเดต state nextUrl ด้วย URL ของหน้าถัดไปที่ได้จากข้อมูล API\n        setPrevUrl(res.data.previous); // อัปเดต state prevUrl ด้วย URL ของหน้าก่อนหน้าที่ได้จากข้อมูล API\n        await getPokemonDetails(res.data.results);\n        setLoading(false);\n    };\n\n\n    // Function to get details of each Pokémon\n    const getPokemonDetails = async (pokemonList) => {\n        const pokemonDetails = await Promise.all(\n            pokemonList.map(async (pokemon) => {\n                const response = await axios.get(pokemon.url);\n                return response.data;\n            })\n        );\n        // Sort Pokémon by ID\n        pokemonDetails.sort((a, b) => a.id - b.id);\n        setPokeData(pokemonDetails);\n    };\n\n    // Initial fetch on component mount\n    useEffect(() => {\n        fetchPokemonData(url);\n    }, [url]);\n\n    // Function to handle next and previous buttons\n    const handleNextPrevClick = (newUrl) => {\n        setPokeData([]);\n        setUrl(newUrl);\n    };\n\n    return (\n        <div className=\"container\">\n            <div className=\"left-content\">\n                <Card pokemon={pokeData} loading={loading} infoPokemon={poke => setPokeDex(poke)} />\n\n                <div className=\"btn-group\">\n                    {prevUrl && (\n                        <button onClick={() => handleNextPrevClick(prevUrl)}>Previous</button>\n                    )}\n                    {nextUrl && <button onClick={() => handleNextPrevClick(nextUrl)}>Next</button>}\n                </div>\n            </div>\n            <div className=\"right-content\">\n                <Pokeinfo data={pokeDex} />\n            </div>\n        </div>\n    );\n};\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}